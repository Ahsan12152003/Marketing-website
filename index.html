<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="DRIP.CGI - Premier marketing agency specializing in hyper-realistic CGI ad videos and 3D motion graphics. Experience our stunning visual creations.">
  <meta name="keywords" content="DRIP.CGI, CGI, 3D motion graphics, VFX, marketing agency, video ads">
  <meta name="author" content="DRIP.CGI">
  <title>DRIP.CGI - Hyper-Realistic CGI Ad Experiences</title>
  <!-- Using inline SVG as favicon to avoid external request -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90' fill='%23ec4899'>D</text></svg>">
  <!-- Using Tailwind via PostCSS in production would be better -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
  <style>
    /* Improved animation performance with will-change */
    .filter-btn.active {
      background: linear-gradient(to right, #dc2626, #ec4899);
      will-change: transform, background;
    }
    .nav-link {
      position: relative;
    }
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(to right, #dc2626, #ec4899);
      transition: width 0.3s ease;
      will-change: width;
    }
    .nav-link:hover::after {
      width: 100%;
    }
    
    /* Smoother transitions */
    * {
      scroll-behavior: smooth;
    }
    
    /* Optimized 3D canvas */
    canvas {
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
      width: 100%;
      height: 100%;
    }
    
    /* Hardware accelerated animations */
    .transform-gpu {
      transform: translate3d(0, 0, 0);
    }
    
    /* Reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body class="bg-black text-white font-sans overflow-x-hidden">
  <!-- Custom Cursor -->
  <div id="cursor" class="fixed w-6 h-6 rounded-full bg-red-500 opacity-50 pointer-events-none transform -translate-x-1/2 -translate-y-1/2 mix-blend-screen z-50 transform-gpu"></div>

  <!-- Navigation Bar -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-80 py-4 px-4 backdrop-blur-sm transform-gpu">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <a href="#hero" class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-pink-500 transform-gpu">DRIP.CGI</a>
      <div class="flex space-x-8">
        <a href="#hero" class="nav-link text-lg hover:text-red-500 transition-colors duration-300 transform-gpu">Home</a>
        <a href="#gallery" class="nav-link text-lg hover:text-red-500 transition-colors duration-300 transform-gpu">Gallery</a>
        <a href="#contact" class="nav-link text-lg hover:text-red-500 transition-colors duration-300 transform-gpu">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Hero Section with Enhanced 3D Background -->
  <section id="hero" class="relative h-screen flex items-center justify-center overflow-hidden transform-gpu">
    <canvas id="three-canvas"></canvas>
    <div class="relative z-10 text-center px-4 transform-gpu">
      <h1 class="text-6xl md:text-8xl font-extrabold tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-pink-500 transform-gpu">DRIP.CGI</h1>
      <p class="text-xl md:text-3xl mt-4 opacity-80 transform-gpu">Pioneering Hyper-Realistic CGI Storytelling</p>
      <a href="#gallery" class="mt-8 inline-block bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white py-3 px-10 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105 transform-gpu">Discover Our Work</a>
    </div>
  </section>

  <!-- Video Gallery Section with Carousel and Filters -->
  <section id="gallery" class="py-20 px-4 relative transform-gpu">
    <canvas id="gallery-canvas"></canvas>
    <h2 class="text-5xl font-bold text-center mb-12 bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-pink-500 transform-gpu">Our CGI Creations</h2>
    <div class="flex justify-center mb-8 space-x-4 transform-gpu">
      <button class="filter-btn active bg-gray-800 hover:bg-gray-700 text-white py-2 px-6 rounded-full transition-all duration-300 transform-gpu" data-filter="all">All</button>
      <button class="filter-btn bg-gray-800 hover:bg-gray-700 text-white py-2 px-6 rounded-full transition-all duration-300 transform-gpu" data-filter="Motion Graphics">Motion Graphics</button>
      <button class="filter-btn bg-gray-800 hover:bg-gray-700 text-white py-2 px-6 rounded-full transition-all duration-300 transform-gpu" data-filter="VFX">VFX</button>
      <button class="filter-btn bg-gray-800 hover:bg-gray-700 text-white py-2 px-6 rounded-full transition-all duration-300 transform-gpu" data-filter="3D Ads">3D Ads</button>
    </div>
    <div id="video-carousel" class="relative max-w-6xl mx-auto overflow-hidden transform-gpu">
      <div id="carousel-inner" class="flex transition-transform duration-500 ease-out transform-gpu"></div>
      <button id="prev-btn" class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-900 p-3 rounded-full hover:bg-gray-700 z-10 transition-colors duration-300 transform-gpu">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button id="next-btn" class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-900 p-3 rounded-full hover:bg-gray-700 z-10 transition-colors duration-300 transform-gpu">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-20 px-4 relative h-screen flex flex-col items-center justify-center transform-gpu">
    <canvas id="contact-canvas"></canvas>
    <h2 class="text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-pink-500 transform-gpu">Create with Us</h2>
    <a href="#" id="getStartedBtn" class="bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white py-3 px-10 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105 transform-gpu">Get Started</a>
  </section>

  <!-- Contact Popup Modal -->
  <div id="contactModal" class="fixed inset-0 bg-black bg-opacity-75 hidden flex items-center justify-center z-50 transform-gpu">
    <div class="relative bg-gray-900 p-8 rounded-lg max-w-md w-full mx-4 text-center border border-gray-800 transform-gpu">
      <button onclick="closeContactModal()" class="absolute top-4 right-4 text-white text-2xl hover:text-red-500 transition-colors duration-300 transform-gpu">Ã—</button>
      <h3 class="text-2xl font-bold mb-6 transform-gpu">Connect with Us</h3>
      <div class="flex justify-center items-center space-x-4 mb-6 transform-gpu">
        <i class="fab fa-instagram text-2xl text-pink-500 transform-gpu"></i>
        <a href="https://instagram.com/drip_cgi" target="_blank" class="text-blue-400 hover:text-blue-300 transition-colors duration-300 transform-gpu">drip.cgi</a>
      </div>
      <div class="flex justify-center items-center space-x-4 transform-gpu">
        <i class="fas fa-envelope text-2xl text-green-500 transform-gpu"></i>
        <a href="mailto:beingahsan12@gmail.com" class="text-blue-400 hover:text-blue-300 transition-colors duration-300 transform-gpu">beingahsan12@gmail.com</a>
      </div>
    </div>
  </div>

  <script>
    // Video Data (Replace with your video URLs)
    const videos = [
      { src: '1.mp4', title: 'Story Telling', category: 'Motion Graphics' },
      { src: '3.mp4', title: 'Dynamic Waves', category: 'Motion Graphics' },
      { src: '7.mp4', title: 'Fluid Motion', category: 'Motion Graphics' },
      { src: '4.mp4', title: 'Our Agency', category: 'VFX' },
      { src: '5.mp4', title: 'Explosive Effects', category: 'VFX' },
      { src: '6.mp4', title: 'Digital Storm', category: 'VFX' },
      { src: '7.mp4', title: 'Advertisement', category: '3D Ads' },
      { src: '8.mp4', title: 'Product Shine', category: '3D Ads' },
      { src: '9.mp4', title: '3D Showcase', category: '3D Ads' }
    ];

    // Initialize Three.js scenes with performance optimizations
    function initScene(canvasId) {
      const canvas = document.getElementById(canvasId);
      const renderer = new THREE.WebGLRenderer({
        canvas,
        antialias: true,
        alpha: true,
        powerPreference: "high-performance"
      });
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.outputEncoding = THREE.sRGBEncoding;
      
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      
      return { scene, camera, renderer };
    }

    // Hero Scene
    const { scene: heroScene, camera: heroCamera, renderer: heroRenderer } = initScene('three-canvas');
    heroCamera.position.z = 150;

    // Gallery Scene
    const { scene: galleryScene, camera: galleryCamera, renderer: galleryRenderer } = initScene('gallery-canvas');
    galleryCamera.position.z = 100;

    // Contact Scene
    const { scene: contactScene, camera: contactCamera, renderer: contactRenderer } = initScene('contact-canvas');
    contactCamera.position.z = 100;

    // Common particle system setup with performance optimizations
    function createParticles(scene, count, color, size, speed) {
      const particlesGeometry = new THREE.BufferGeometry();
      const positions = new Float32Array(count * 3);
      const velocities = new Float32Array(count * 3);
      const sizes = new Float32Array(count);
      
      for (let i = 0; i < count; i++) {
        const i3 = i * 3;
        positions[i3] = (Math.random() - 0.5) * 1000;
        positions[i3 + 1] = (Math.random() - 0.5) * 1000;
        positions[i3 + 2] = (Math.random() - 0.5) * 1000;
        
        velocities[i3] = (Math.random() - 0.5) * speed;
        velocities[i3 + 1] = (Math.random() - 0.5) * speed;
        velocities[i3 + 2] = (Math.random() - 0.5) * speed;
        
        sizes[i] = size * (0.5 + Math.random() * 0.5);
      }
      
      particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
      particlesGeometry.setAttribute('velocity', new THREE.BufferAttribute(velocities, 3));
      particlesGeometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
      
      const particlesMaterial = new THREE.PointsMaterial({
        size: size,
        color: new THREE.Color(color),
        transparent: true,
        opacity: 0.6,
        blending: THREE.AdditiveBlending,
        sizeAttenuation: true
      });
      
      const particles = new THREE.Points(particlesGeometry, particlesMaterial);
      scene.add(particles);
      
      return { particles, particlesGeometry, velocities };
    }

    // Create particles for each scene
    const heroParticles = createParticles(heroScene, 15000, 0xff0055, 2.5, 0.5);
    const galleryParticles = createParticles(galleryScene, 5000, 0xff00aa, 2, 0.3);
    const contactParticles = createParticles(contactScene, 5000, 0x00aaff, 2, 0.2);

    // Common torus knot setup
    function createTorusKnot(scene, color) {
      const geometry = new THREE.TorusKnotGeometry(20, 3, 100, 16);
      const material = new THREE.ShaderMaterial({
        uniforms: {
          uTime: { value: 0 },
          uColor: { value: new THREE.Color(color) }
        },
        vertexShader: `
          varying vec2 vUv;
          void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
          }
        `,
        fragmentShader: `
          uniform float uTime;
          uniform vec3 uColor;
          varying vec2 vUv;
          void main() {
            float glow = sin(uTime * 2.0 + vUv.y * 5.0) * 0.5 + 0.5;
            float pulse = cos(uTime * 1.5) * 0.2 + 0.8;
            gl_FragColor = vec4(uColor * glow * pulse, glow * 0.7);
          }
        `,
        transparent: true,
        wireframe: true
      });
      
      const mesh = new THREE.Mesh(geometry, material);
      scene.add(mesh);
      
      return { mesh, material };
    }

    // Create torus knots for each scene
    const heroTorus = createTorusKnot(heroScene, 0xff0055);
    const galleryTorus = createTorusKnot(galleryScene, 0xff5555);
    const contactTorus = createTorusKnot(contactScene, 0x5500ff);

    // Add lights to scenes
    function addLights(scene, color, intensity) {
      const pointLight = new THREE.PointLight(color, intensity, 100);
      pointLight.position.set(50, 50, 50);
      scene.add(pointLight);
      
      const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
      scene.add(ambientLight);
    }

    addLights(heroScene, 0xff0055, 1.5);
    addLights(galleryScene, 0xff5555, 1);
    addLights(contactScene, 0x5500ff, 0.8);

    // Optimized animation loop with requestAnimationFrame
    let lastTime = 0;
    const frameRate = 1000 / 60; // Target 60fps
    
    function animate(currentTime) {
      requestAnimationFrame(animate);
      
      // Throttle updates to maintain performance
      const deltaTime = currentTime - lastTime;
      if (deltaTime < frameRate) return;
      lastTime = currentTime - (deltaTime % frameRate);
      
      const time = currentTime * 0.001; // Convert to seconds
      
      // Update hero scene
      heroTorus.material.uniforms.uTime.value = time;
      heroTorus.mesh.rotation.x += 0.002;
      heroTorus.mesh.rotation.y += 0.003;
      updateParticles(heroParticles, 500);
      
      // Update gallery scene
      galleryTorus.material.uniforms.uTime.value = time;
      galleryTorus.mesh.rotation.x += 0.0015;
      galleryTorus.mesh.rotation.y += 0.002;
      updateParticles(galleryParticles, 250);
      
      // Update contact scene
      contactTorus.material.uniforms.uTime.value = time;
      contactTorus.mesh.rotation.x += 0.001;
      contactTorus.mesh.rotation.y += 0.0015;
      updateParticles(contactParticles, 250);
      
      // Render scenes
      heroRenderer.render(heroScene, heroCamera);
      galleryRenderer.render(galleryScene, galleryCamera);
      contactRenderer.render(contactScene, contactCamera);
    }
    
    function updateParticles(particles, bounds) {
      const positions = particles.particlesGeometry.attributes.position.array;
      const velocities = particles.velocities;
      
      for (let i = 0; i < positions.length; i += 3) {
        positions[i] += velocities[i];
        positions[i + 1] += velocities[i + 1];
        positions[i + 2] += velocities[i + 2];
        
        // Bounce particles when they reach bounds
        if (Math.abs(positions[i]) > bounds) velocities[i] *= -1;
        if (Math.abs(positions[i + 1]) > bounds) velocities[i + 1] *= -1;
        if (Math.abs(positions[i + 2]) > bounds) velocities[i + 2] *= -1;
      }
      
      particles.particlesGeometry.attributes.position.needsUpdate = true;
    }
    
    animate(0);

    // Window Resize with debounce for performance
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        const width = window.innerWidth;
        const height = window.innerHeight;
        
        heroCamera.aspect = width / height;
        heroCamera.updateProjectionMatrix();
        heroRenderer.setSize(width, height);
        
        galleryCamera.aspect = width / height;
        galleryCamera.updateProjectionMatrix();
        galleryRenderer.setSize(width, height);
        
        contactCamera.aspect = width / height;
        contactCamera.updateProjectionMatrix();
        contactRenderer.setSize(width, height);
      }, 100);
    });

    // Custom Cursor with optimized GSAP
    const cursor = document.getElementById('cursor');
    const cursorX = { x: window.innerWidth / 2 };
    const cursorY = { y: window.innerHeight / 2 };
    
    document.addEventListener('mousemove', (e) => {
      cursorX.x = e.clientX;
      cursorY.y = e.clientY;
    });
    
    gsap.ticker.add(() => {
      cursor.style.left = `${cursorX.x}px`;
      cursor.style.top = `${cursorY.y}px`;
    });
    
    document.querySelectorAll('a, button').forEach(el => {
      el.addEventListener('mouseenter', () => {
        gsap.to(cursor, { scale: 1.5, opacity: 0.8, duration: 0.2 });
      });
      el.addEventListener('mouseleave', () => {
        gsap.to(cursor, { scale: 1, opacity: 0.5, duration: 0.2 });
      });
    });

    // GSAP Animations with ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);
    
    gsap.from("#hero h1", { 
      opacity: 0, 
      y: 60, 
      duration: 1.2, 
      ease: "power2.out" 
    });
    
    gsap.from("#hero p", { 
      opacity: 0, 
      y: 60, 
      duration: 1.2, 
      delay: 0.2, 
      ease: "power2.out" 
    });
    
    gsap.from("#hero a", { 
      opacity: 0, 
      y: 60, 
      duration: 1.2, 
      delay: 0.4, 
      ease: "power2.out" 
    });
    
    gsap.from("#gallery h2", { 
      opacity: 0, 
      y: 40, 
      duration: 1, 
      scrollTrigger: { 
        trigger: "#gallery", 
        start: "top 80%",
        toggleActions: "play none none none"
      } 
    });

    // Video Carousel with optimized rendering
    const carouselInner = document.getElementById('carousel-inner');
    let currentIndex = 0;
    let carouselItems = [];
    let filteredVideos = [];

    function renderCarousel(filter = 'all') {
      carouselInner.innerHTML = '';
      carouselItems = [];
      filteredVideos = filter === 'all' ? [...videos] : videos.filter(v => v.category === filter);
      
      if (filteredVideos.length === 0) {
        carouselInner.innerHTML = '<p class="text-center text-gray-500 w-full">No videos found for this category.</p>';
        return;
      }
      
      // Create video cards
      filteredVideos.forEach((video, index) => {
        const card = document.createElement('div');
        card.className = 'group w-80 md:w-96 flex-shrink-0 mx-2 cursor-pointer transform-gpu';
        card.innerHTML = `
          <div class="relative overflow-hidden rounded-lg transform-gpu">
            <video class="w-full h-56 object-cover" muted playsinline loop preload="metadata">
              <source src="${video.src}" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform-gpu">
              <p class="text-white text-lg font-semibold transform-gpu">${video.title}</p>
            </div>
          </div>
        `;
        carouselInner.appendChild(card);
        carouselItems.push(card);
        
        // Lazy load videos when they come into view
        const videoElement = card.querySelector('video');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              videoElement.src = video.src;
              videoElement.play().catch(e => console.log("Autoplay prevented:", e));
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        
        observer.observe(videoElement);
        
        videoElement.addEventListener('error', () => {
          console.error(`Failed to load video: ${video.src}`);
          card.innerHTML = `<div class="w-full h-56 bg-gray-800 flex items-center justify-center rounded-lg"><p class="text-red-500">Video failed to load</p></div>`;
        });
      });
      
      currentIndex = 0;
      updateCarouselPosition();
    }

    function updateCarouselPosition() {
      gsap.to(carouselInner, {
        x: -currentIndex * carouselItems[0]?.offsetWidth || 0,
        duration: 0.5,
        ease: "power2.out"
      });
    }

    // Carousel Navigation
    document.getElementById('next-btn').addEventListener('click', () => {
      const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
      filteredVideos = activeFilter === 'all' ? [...videos] : videos.filter(v => v.category === activeFilter);
      
      currentIndex = (currentIndex + 1) % Math.ceil(filteredVideos.length / 3);
      updateCarouselPosition();
    });

    document.getElementById('prev-btn').addEventListener('click', () => {
      const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
      filteredVideos = activeFilter === 'all' ? [...videos] : videos.filter(v => v.category === activeFilter);
      
      currentIndex = (currentIndex - 1 + Math.ceil(filteredVideos.length / 3)) % Math.ceil(filteredVideos.length / 3);
      updateCarouselPosition();
    });

    // Video Filters with debounce
    let filterTimeout;
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        clearTimeout(filterTimeout);
        filterTimeout = setTimeout(() => {
          document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          renderCarousel(btn.dataset.filter);
        }, 100);
      });
    });

    // Initial render
    renderCarousel();

    // Contact Popup Functionality
    const getStartedBtn = document.getElementById('getStartedBtn');
    const contactModal = document.getElementById('contactModal');

    getStartedBtn.addEventListener('click', (e) => {
      e.preventDefault();
      contactModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      gsap.from(contactModal, { 
        opacity: 0, 
        scale: 0.8, 
        duration: 0.5, 
        ease: "back.out(1.7)" 
      });
    });

    function closeContactModal() {
      gsap.to(contactModal, { 
        opacity: 0, 
        scale: 0.8, 
        duration: 0.3, 
        ease: "power2.in",
        onComplete: () => {
          contactModal.classList.add('hidden');
          document.body.style.overflow = '';
        }
      });
    }

    // Close modal when clicking outside or pressing Escape
    contactModal.addEventListener('click', (e) => {
      if (e.target === contactModal) {
        closeContactModal();
      }
    });
    
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !contactModal.classList.contains('hidden')) {
        closeContactModal();
      }
    });
  </script>
</body>
</html>